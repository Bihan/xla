Search.setIndex({docnames:["index","notes/source_of_recompilation"],envversion:{"sphinx.domains.c":1,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":1,"sphinx.domains.index":1,"sphinx.domains.javascript":1,"sphinx.domains.math":2,"sphinx.domains.python":1,"sphinx.domains.rst":1,"sphinx.domains.std":1,"sphinx.ext.intersphinx":1,"sphinx.ext.todo":2,"sphinx.ext.viewcode":1,sphinx:56},filenames:["index.rst","notes/source_of_recompilation.md"],objects:{"torch_xla.core":{functions:[0,0,0,"-"],xla_model:[0,0,0,"-"]},"torch_xla.core.functions":{all_gather:[0,1,1,""],all_reduce:[0,1,1,""],nms:[0,1,1,""]},"torch_xla.core.xla_model":{add_step_closure:[0,1,1,""],all_gather:[0,1,1,""],all_reduce:[0,1,1,""],all_to_all:[0,1,1,""],do_on_ordinals:[0,1,1,""],get_local_ordinal:[0,1,1,""],get_memory_info:[0,1,1,""],get_ordinal:[0,1,1,""],get_rng_state:[0,1,1,""],get_xla_supported_devices:[0,1,1,""],is_master_ordinal:[0,1,1,""],mesh_reduce:[0,1,1,""],optimizer_step:[0,1,1,""],rendezvous:[0,1,1,""],save:[0,1,1,""],set_rng_state:[0,1,1,""],wait_device_ops:[0,1,1,""],xla_device:[0,1,1,""],xla_device_hw:[0,1,1,""],xrt_world_size:[0,1,1,""]},"torch_xla.distributed":{parallel_loader:[0,0,0,"-"],xla_multiprocessing:[0,0,0,"-"]},"torch_xla.distributed.parallel_loader":{ParallelLoader:[0,2,1,""]},"torch_xla.distributed.parallel_loader.ParallelLoader":{per_device_loader:[0,3,1,""]},"torch_xla.distributed.xla_multiprocessing":{MpModelWrapper:[0,2,1,""],MpSerialExecutor:[0,2,1,""],spawn:[0,1,1,""]},"torch_xla.distributed.xla_multiprocessing.MpModelWrapper":{to:[0,3,1,""]},"torch_xla.distributed.xla_multiprocessing.MpSerialExecutor":{run:[0,3,1,""]},"torch_xla.utils":{cached_dataset:[0,0,0,"-"],gcsfs:[0,0,0,"-"],serialization:[0,0,0,"-"],tf_record_reader:[0,0,0,"-"],utils:[0,0,0,"-"]},"torch_xla.utils.cached_dataset":{CachedDataset:[0,2,1,""]},"torch_xla.utils.gcsfs":{generic_open:[0,1,1,""],generic_read:[0,1,1,""],generic_write:[0,1,1,""],is_gcs_path:[0,1,1,""],list:[0,1,1,""],open:[0,1,1,""],read:[0,1,1,""],remove:[0,1,1,""],rmtree:[0,1,1,""],stat:[0,1,1,""],write:[0,1,1,""]},"torch_xla.utils.serialization":{load:[0,1,1,""],save:[0,1,1,""]},"torch_xla.utils.tf_record_reader":{TfRecordReader:[0,2,1,""]},"torch_xla.utils.utils":{DataWrapper:[0,2,1,""],SampleGenerator:[0,2,1,""]}},objnames:{"0":["py","module","Python module"],"1":["py","function","Python function"],"2":["py","class","Python class"],"3":["py","method","Python method"]},objtypes:{"0":"py:module","1":"py:function","2":"py:class","3":"py:method"},terms:{"boolean":0,"break":[0,1],"byte":0,"case":0,"class":0,"const":0,"default":0,"export":0,"float":[0,1],"function":0,"import":0,"int":[0,1],"long":1,"new":[0,1],"return":[0,1],"short":1,"static":1,"switch":[0,1],"throw":0,"true":[0,1],"try":1,"while":[0,1],Adding:0,And:1,But:[0,1],For:[0,1],GCS:0,One:0,That:1,The:[0,1],There:[0,1],These:0,Using:0,With:1,YES:1,Yes:1,__main__:0,__name__:0,_copy_from:0,_get_xla_tensor_dimension_s:1,_get_xla_tensors_text:1,_mp_fn:0,_xlac:1,abil:1,abl:[0,1],about:[0,1],abov:[0,1],acceler:0,access:[0,1],accessor:1,accommod:0,achiev:0,acquir:0,across:0,act:0,activ:0,actual:[0,1],add:[0,1],add_step_closur:0,added:0,adding:[0,1],addit:0,adjust:0,adopt:1,advantag:0,advis:0,after:[0,1],again:0,ahead:1,aim:1,all:[0,1],all_gath:0,all_reduc:0,all_to_al:0,allow:0,alltoal:0,along:0,alreadi:[0,1],also:[0,1],altern:1,although:1,alwai:[0,1],among:0,amount:[0,1],ani:[0,1],annoi:1,anonym:0,anoth:[0,1],anti:1,api:1,appear:0,appli:0,appreci:0,approach:1,arg:0,argument:0,around:1,ask:1,assum:1,assumpt:1,assur:1,async:0,asynchron:0,aten:[0,1],aten_cpu_fallback:0,aten_interned_str:0,aten_xla_typ:0,auto:0,autograd:0,automag:1,automat:[0,1],avail:[0,1],avoid:0,back:0,backend:1,backward:0,bandwidth:1,barrier:0,base:[0,1],basic:1,batch:0,batchdim:0,batches_per_execut:0,bdhirsh:1,becom:1,been:[0,1],befor:1,beginn:1,behavior:0,being:0,below:[0,1],best:0,better:[0,1],between:[0,1],beyond:0,bf16:0,big:1,bla:1,blabla:1,blaze:1,blob:0,block:0,blocker:1,blowup:1,bool:0,both:[0,1],box:0,branch:1,brian:1,bucket:[0,1],bucket_nam:0,buffer:0,buffer_s:0,build:0,cach:0,cached_dataset:0,cacheddataset:0,call:[0,1],callabl:0,caller:0,can:0,cannot:1,capabl:0,capac:0,captur:0,care:[0,1],carri:1,caus:[0,1],cctx:0,certain:1,chang:[0,1],charact:0,cheap:1,check:0,choic:1,circleci:0,client:0,closur:0,cloud:0,code:[0,1],codegen:0,combin:[0,1],combo:1,come:[0,1],comment:1,common:1,commonli:1,commun:0,compar:0,compiat:0,compil:[0,1],complet:0,complic:0,compos:0,composit:0,compress:0,comput:[0,1],concat:0,concat_dimens:0,concret:1,condit:1,configur:0,consol:0,consolid:0,constrain:0,construct:0,consum:1,contain:[0,1],content:0,context:1,contigu:0,control:0,convers:[0,1],convert:0,coordin:0,copi:0,core:0,correct:1,correspond:0,corrupt:0,could:1,count:0,counter:0,coupl:0,coverag:1,cpp:0,cpu:1,creation:0,csrc:0,cuda:[0,1],current:[0,1],custom:1,cut:1,daemon:0,dai:0,data:[0,1],data_set:0,datadir:0,dataload:0,dataparallel:0,dataset:0,datatyp:0,datawrapp:0,debug:1,decid:1,declar:0,decod:0,decompress:0,def:0,defer:0,defin:0,definit:[0,1],defval:0,delimit:0,depend:[0,1],deposit:0,describ:0,design:0,destin:0,detail:[0,1],develop:0,devic:1,device_prefetch_s:0,deviceguard:0,devirtu:1,devkind:0,dict:0,dictionari:0,didn:1,differ:[0,1],differenti:0,dim:0,dimens:0,directli:[0,1],directori:0,discrep:1,disk:0,dispatch:0,do_on_ordin:0,doc:1,document:0,doe:1,doesn:1,don:[0,1],done:1,doubl:[0,1],down:0,download:0,dscache_dir:0,dtype:1,dure:0,dynam:0,each:[0,1],eager:1,eagerli:[0,1],earli:1,easi:[0,1],easier:1,easili:[0,1],effort:1,either:[0,1],element:[0,1],els:1,empti:0,enabl:0,encod:0,end:0,enforc:1,enough:1,ensur:[0,1],entri:0,environ:0,equal:0,error:0,etc:[0,1],evalu:1,even:[0,1],event:0,everi:[0,1],everyth:1,exactli:1,exampl:[0,1],except:0,exchang:0,execut:[0,1],executor:0,exist:0,expect:1,expens:[0,1],experi:0,explain:1,explan:1,explicit:0,explicitli:[0,1],explod:1,exponenti:1,expos:0,extens:0,fact:0,fail:0,fallback:0,fals:0,familiar:0,fashion:0,fast:1,faster:1,feasibl:1,fetch:0,few:[0,1],fewer:1,file_or_path:0,find:0,first:0,flag:0,float32:0,floattensor:0,focu:1,folder:0,follow:[0,1],followup:1,footprint:0,forc:1,fork:0,form:[0,1],forward:0,framework:1,free:0,frontend:1,full:0,fulli:0,fuse:0,futur:[0,1],gather:0,gcsblob:0,gcsf:0,gener:[0,1],generic_open:0,generic_read:0,generic_writ:0,get:[0,1],get_dimention_s:1,get_local_ordin:0,get_memory_info:0,get_ordin:0,get_rng_stat:0,get_xla_supported_devic:0,given:[0,1],global:0,global_mast:0,goal:0,gold:1,gone:1,good:[0,1],googl:0,gpu:0,gradient:0,graph:[0,1],grasp:0,great:1,group:0,grpc:0,gzip:0,hand:0,handl:[0,1],happen:[0,1],hard:1,hardwar:0,has:[0,1],have:[0,1],haven:[0,1],hei:1,help:1,henc:0,here:[0,1],higher:0,highlight:0,hirsh:1,hit:1,hlo:0,hlomodul:0,hoc:1,hold:0,hope:1,host:0,how:[0,1],howev:0,http:0,huge:1,hurt:1,ideal:1,ignor:0,imag:1,immedi:0,impact:1,impl:0,implement:[0,1],implicitli:1,impract:1,includ:[0,1],inde:1,index:0,indic:[0,1],info:1,inform:[0,1],inherit:0,initi:0,inplac:0,input:0,insert:0,insid:0,inspect:0,instal:0,instanc:0,instead:[0,1],instruct:0,integ:0,interfac:0,intermedi:0,intermediari:0,intern:[0,1],interned_str:0,interpret:[0,1],intersect:0,invis:0,involv:1,iou:0,iou_threshold:0,irvalu:1,is_gcs_path:0,is_master_ordin:0,isn:1,issu:0,iter:0,its:0,itself:0,job:0,join:0,just:[0,1],kb_free:0,kb_total:0,keep:1,kei:0,kept:1,kernel:[0,1],kind:0,kinda:1,know:1,l_in:0,l_out:0,label:0,lambda:0,larg:1,launch:0,lazi:1,lazili:1,len:0,length:1,lerp:0,lerp_:0,lerp_out:0,less:1,let:0,level:0,librari:0,like:[0,1],limit:0,line:[0,1],linear:0,list:0,live:[0,1],load_dataset:0,load_state_dict:0,loader:0,loader_prefetch_s:0,local:0,localhost:0,localservic:0,locat:0,logic:[0,1],longer:1,look:0,loop:[0,1],loss:0,loss_fn:0,lot:[0,1],lower:1,machin:0,machineri:0,made:1,magic:1,mai:[0,1],mainli:1,make:[0,1],makedir:0,mani:[0,1],manual:0,map:0,mark:0,mark_step:0,mask:1,master:0,master_onli:0,match:0,materi:[0,1],materiz:1,matrix:0,matter:1,max:[0,1],max_devic:0,max_files_per_fold:0,maxim:0,maximum:0,maybe_download_and_load:0,mean:[0,1],memori:1,mention:[0,1],merg:1,mesh:0,mesh_reduc:0,messag:0,metadata:0,method:0,middl:1,might:[0,1],minim:0,minimum:0,minu:0,miss:0,mix:0,mnist:0,mode:[0,1],model:1,modul:0,moment:0,momentum:0,more:[0,1],move:1,mp_device_load:0,mpdeviceload:0,mpmodelwrapp:0,mpserialexecutor:0,much:1,mul:1,multipl:1,multipli:0,multiprocess:0,must:0,mynetwork:0,name:[0,1],namespac:0,nativ:0,native_funct:0,necessari:0,need:[0,1],nest:0,network:0,neural:0,next:[0,1],nit:1,nllloss:0,nms:0,nnc:1,node:[0,1],non:[0,1],none:0,nonzero:1,normal:[0,1],note:[0,1],now:1,nproc:0,num_host:0,num_output:1,number:0,object:0,obviou:1,offer:0,often:1,okai:1,omit:0,onc:[0,1],one:[0,1],ones:[0,1],onli:[0,1],onto:0,opaqu:0,open:0,operation_semant:0,opkind:0,opportun:1,ops:[0,1],optim:[0,1],optimizer_arg:0,optimizer_step:0,option:0,order:0,ordin:0,org:0,origin:0,other:[0,1],otherwis:[0,1],our:[0,1],out:0,output:0,output_s:0,output_str:0,over:0,overlap:0,overload:1,overrid:0,packag:0,pad:1,page:0,paper:0,parallel_load:0,parallelload:0,paramet:0,parent:0,pars:1,part:0,partial:1,particip:0,pass:0,path:[0,1],pattern:[0,1],payload:0,per:0,per_device_load:0,perf:1,perform:0,pin:0,pin_layout:0,pine:0,place:0,point:[0,1],posit:0,possibl:0,post:0,potenti:0,pov:1,practic:1,prefix:0,presenc:1,preserv:0,pretti:1,prevent:0,previou:[0,1],previous:0,primit:0,print:[0,1],probabl:1,problem:1,proce:1,produc:1,program:[0,1],properli:1,properti:1,propos:1,prototyp:0,provid:[0,1],purpos:0,put:0,python:[0,1],pytorch:1,pytorch_xla:0,qualifi:0,question:1,queu:0,queue:0,ram:0,ran:0,rand:1,randn:0,random:0,rang:0,raw:0,reach:0,real:0,realli:1,reason:0,receiv:0,recogn:1,recommend:0,record:0,recreat:0,rede:0,reduc:0,reduce_and:0,reduce_fn:0,reduce_max:0,reduce_min:0,reduce_mul:0,reduce_or:0,reduce_sum:0,reduce_typ:0,reduct:0,refer:0,regardless:0,regist:0,registerautogradxla:0,registerxla:0,regular:0,relat:0,relationship:0,reli:1,remain:[0,1],remov:0,rendezv:0,replic:0,replica:0,repo:0,report:0,repres:[0,1],represent:0,request:[0,1],requir:[0,1],resid:0,resourc:0,rest:1,restor:0,result:0,retriev:[0,1],rewrit:1,rid:1,right:1,rmtree:0,rng:0,root:1,run:1,run_async:0,s64:1,sai:1,same:[0,1],sampl:0,sample_count:0,samplegener:0,scalar:[0,1],scalar_out:0,scale:0,scope:0,score:0,score_threshold:0,search:0,second:0,section:0,see:[0,1],seed:0,select:0,self:0,semant:1,send:0,sent:0,sentenc:1,separ:0,sequenc:0,sequenti:0,serial:0,serial_exec:0,serv:0,set:[0,1],set_rng_stat:0,sgd:0,shape:0,should:[0,1],show:0,shown:1,side:1,signific:0,similar:0,simplic:1,sinc:[0,1],singl:1,size:[0,1],skip:0,slightli:0,slowdown:0,small:1,smaller:[0,1],smart:1,smash:1,snippet:0,solut:1,solv:1,some:0,somehow:1,sometim:1,sort:1,sound:1,sourc:0,space:0,spawn:0,specif:0,specifi:0,speed:1,split:0,split_count:0,split_dimens:0,stack:[0,1],stand:0,start_method:0,stat:0,state:0,state_dict:0,statement:1,step:[0,1],stick:1,still:1,storag:0,store:0,str:0,stream:0,string:0,subgraph:1,submit:0,support:[0,1],suppress:0,symbol:[0,1],synchron:0,synthet:0,system:0,tag:0,take:[0,1],taken:[0,1],tar:0,target:[0,1],task:0,tbh:1,teach:1,tell:1,tensor_method:0,tensor_out:0,tensorboard:0,tensorflow:[0,1],term:1,test_aten_xla_tensor:0,test_oper:0,text:0,tf_record_read:0,tfexampl:0,tfrecord:0,tfrecordread:0,than:1,thei:[0,1],them:[0,1],theoret:1,thi:[0,1],think:1,those:0,though:0,thought:1,thread:0,three:0,throttl:0,through:[0,1],time:[0,1],tmp:0,togeth:0,too:1,torch:[0,1],torch_fn:0,torch_warn:1,torch_xla:0,torchscript:1,total:[0,1],totensor:0,tpu:0,trace:1,trade:[0,1],train:0,train_dataset:0,train_load:0,tranform:0,transfer:0,transform:0,transit:0,transpar:0,transpos:1,trick:1,trigger:[0,1],trivial:1,truth:1,tupl:[0,1],two:[0,1],type:0,typic:0,uglier:1,unavail:0,unawar:1,under:0,understand:1,union:0,uniqu:[0,1],unless:[0,1],unlik:0,unpack:0,unpin:0,until:0,updat:[0,1],upload:0,upon:0,upper:1,usag:[0,1],use:0,used:[0,1],useful:1,user:[0,1],uses:[0,1],using:[0,1],usual:0,valid:0,valu:[0,1],vanilla:0,vari:1,variabl:[0,1],variant:[0,1],veri:1,verifi:0,verison:1,view:0,visibl:1,wai:[0,1],wait:0,wait_device_op:0,want:[0,1],warmup:0,wasn:1,weight:0,well:1,were:[0,1],what:0,when:0,where:[0,1],whether:0,which:[0,1],whole:[0,1],whose:0,why:1,wide:[0,1],win:1,within:0,without:0,won:1,word:1,work:[0,1],workaround:1,worker:0,workstat:0,world:[0,1],wors:1,worth:1,would:[0,1],wrap:0,wrapped_model:0,wrapper:0,wrapper_scalar_lerp:0,wrapper_scalar_lerp_:0,wrapper_scalar_lerp__tmp:0,write:0,writeabl:0,written:0,wrong:1,wrt:0,www:0,xla:1,xla_cpu:0,xla_devic:0,xla_device_hw:0,xla_downcast_bf16:0,xla_multiprocess:0,xla_native_funct:0,xla_use_bf16:0,xlanativefunct:0,xlaop:0,xlatensor:0,xmp:0,xrt_device_map:0,xrt_worker:0,xrt_world_siz:0,xser:0,yaml:0,yea:1,yet:0,yield:0,your:[0,1],zero_grad:0,zlib:0},titles:["PyTorch on XLA Devices","Source of recompilations in torch_xla"],titleterms:{"case":1,api:0,appendix:1,background:0,befor:0,bfloat16:0,bound:1,can:1,conclus:1,constraint:1,control:1,cpu:0,creat:0,dataset:1,deep:0,devic:0,dimens:1,distribut:0,dive:0,dynam:1,fact:1,file:0,first:1,fix:1,flow:1,from:[0,1],further:0,guid:0,input:1,its:1,layout:0,lazi:0,let:1,load:0,lower:0,memori:0,model:0,move:0,multi:0,multipl:0,oper:[0,1],output:1,process:0,pytorch:0,queri:1,read:0,real:1,recompil:1,run:0,save:0,shape:1,singl:0,some:1,sourc:1,start:[0,1],structur:0,tensor:[0,1],test:0,tip:0,torch_xla:1,understand:0,unit:0,use:1,util:0,what:1,when:1,without:1,xla:0,xla_model:0,you:[0,1]}})